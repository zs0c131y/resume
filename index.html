<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Adarsh | Full Stack Developer & Cybersecurity Analyst</title>
    <meta
      name="description"
      content="Portfolio of Adarsh, a BCA undergrad specializing in full stack development, cybersecurity, and UI/UX design"
    />
    <!-- SEO Meta Tags -->
    <meta name="author" content="Adarsh Gupta" />
    <meta
      name="keywords"
      content="web development, full stack developer, cybersecurity, UI/UX design, portfolio, Adarsh Gupta, Telegram, Christ University, BCA, MCA, Bangalore, CUYPR, Telegram Support Force, Signal, Blossoms, Querit, Hive, TrustVault"
    />
    <meta name="robots" content="index, follow" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://adarshg.dev" />

    <!-- Open Graph / Facebook Meta Tags -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://adarshg.dev" />
    <meta
      property="og:title"
      content="Adarsh | Full Stack Developer & Cybersecurity Analyst"
    />
    <meta
      property="og:description"
      content="Portfolio of Adarsh, a BCA undergrad specializing in full stack development, cybersecurity, and UI/UX design"
    />
    <meta property="og:image" content="https://adarshg.dev/img/profile.jpg" />

    <!-- Twitter Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://adarshg.dev" />
    <meta
      name="twitter:title"
      content="Adarsh | Full Stack Developer & Cybersecurity Analyst"
    />
    <meta
      name="twitter:description"
      content="Portfolio of Adarsh, a BCA undergrad specializing in full stack development, cybersecurity, and UI/UX design"
    />
    <meta name="twitter:image" content="https://adarshg.dev/img/profile.jpg" />

    <!-- PWA Support -->
    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#FF6B6B" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />
    <meta name="apple-mobile-web-app-title" content="Adarsh Gupta" />

    <!-- Fonts and Styles -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
      font-display="swap"
    />
    <link rel="stylesheet" href="index.css" />
    <script src="https://cdn.jsdelivr.net/npm/lucide@latest/dist/umd/lucide.min.js"></script>
    <!-- <script
      src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit"
      async
      defer
    ></script> -->

    <!-- Favicon and Asset Preloading -->
    <link rel="icon" href="img/favicon.png" type="image/png" />
    <link rel="apple-touch-icon" href="img/favicon.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="preload" href="img/favicon.png" as="image" type="image/png" />

    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Person",
        "name": "Adarsh Gupta",
        "url": "https://adarshg.dev",
        "image": "https://adarshg.dev/img/profile.jpg",
        "sameAs": [
          "https://github.com/zs0c131y",
          "https://linkedin.com/in/adarshagupta",
          "https://blog.adarshg.dev"
        ],
        "jobTitle": "Full Stack Developer & Cybersecurity Analyst",
        "worksFor": {
          "@type": "Organization",
          "name": "Freelance"
        },
        "description": "BCA undergrad passionate about building secure, beautiful digital experiences",
        "knowsAbout": [
          "Web Development",
          "Cybersecurity",
          "UI/UX Design",
          "JavaScript",
          "Python",
          "Telegram Support Force"
        ]
      }
    </script>
  </head>
  <body class="dark">
    <div class="page-loading"></div>
    <div id="turnstile-container" style="position: fixed; z-index: 9999"></div>
    <header class="sticky-header" role="banner">
      <div class="container header-container">
        <a href="/" class="logo" aria-label="Home">{AG}</a>
        <nav class="main-nav" role="navigation" aria-label="Main Navigation">
          <a href="#about">About</a>
          <a href="#skills">Skills</a>
          <a href="#projects">Projects</a>
          <a href="https://blog.adarshg.dev">Blog</a>
          <a href="#contact">Contact</a>
        </nav>
        <div class="header-right">
          <button
            id="mobile-menu-toggle"
            class="mobile-menu-toggle"
            aria-label="Toggle mobile menu"
            aria-expanded="false"
          >
            <div class="hamburger-icon">
              <span class="hamburger-line"></span>
              <span class="hamburger-line"></span>
              <span class="hamburger-line"></span>
            </div>
          </button>
          <button
            id="theme-toggle"
            class="theme-toggle"
            aria-label="Toggle dark/light mode"
            aria-pressed="true"
          >
            <i
              data-lucide="sun"
              class="theme-toggle-icon light-icon"
              aria-hidden="true"
            ></i>
            <i
              data-lucide="moon"
              class="theme-toggle-icon dark-icon"
              aria-hidden="true"
            ></i>
          </button>
          <a href="#contact" class="contact-button">Get in touch</a>
        </div>
      </div>
    </header>

    <main id="main">
      <!-- Hero Section -->
      <section class="hero" aria-labelledby="hero-heading">
        <div class="container">
          <div class="hero-content">
            <h1 id="hero-heading">
              Hi, I'm <span class="text-primary">Adarsh Gupta</span>
            </h1>
            <div class="badges" aria-label="Professional roles">
              <div class="badge">
                <i data-lucide="terminal" aria-hidden="true"></i>
                <span>Full Stack Developer</span>
              </div>
              <div class="badge">
                <i data-lucide="shield" aria-hidden="true"></i>
                <span>Cybersecurity Analyst</span>
              </div>
              <div class="badge">
                <i data-lucide="palette" aria-hidden="true"></i>
                <span>UI/UX Designer</span>
              </div>
            </div>
            <p class="hero-text">
              BCA undergrad passionate about building secure, beautiful digital
              experiences.
            </p>
            <div class="hero-buttons">
              <a href="#projects" class="button primary">View my work</a>
              <a href="#contact" class="button secondary">Contact me</a>
            </div>
          </div>
        </div>
      </section>

      <!-- About Section -->
      <section id="about" class="about" aria-labelledby="about-heading">
        <div class="container">
          <h2 id="about-heading">About Me</h2>
          <div class="about-grid">
            <div class="about-image">
              <img
                src="img/profile.jpg"
                alt="Adarsh Gupta profile portrait"
                loading="lazy"
                decoding="async"
              />
            </div>
            <div class="about-content">
              <p>
                I'm a MCA student at CHRIST (Deemed to be University),
                Bangalore, with a passion for web development and cybersecurity.
                I specialize in full-stack development using HTML, CSS,
                JavaScript, Node.js, Express.js, and MongoDB.
              </p>
              <p>
                My experience extends beyond coding - I've contributed to
                Telegram Messenger as a support team member and beta tester, and
                I've written blogs for Signal's language love campaign. This
                diverse background helps me create user-centric solutions.
              </p>
              <p>
                When I'm not coding, you'll find me exploring cybersecurity,
                working on sound engineering projects, or creating graphic
                designs. I'm always eager to learn and collaborate on innovative
                projects.
              </p>
              <div class="about-buttons">
                <a
                  href="https://drive.google.com/file/d/1yULMzU-C019MqcbZAN2lTg_7RDSx02Uu/view?usp=sharing"
                  target="_blank"
                  rel="noopener"
                  class="button secondary"
                  aria-label="View Resume (opens in new tab)"
                >
                  View Resume
                </a>

                <a
                  href="https://blog.adarshg.dev"
                  target="_blank"
                  rel="noopener"
                  class="button secondary"
                  aria-label="Read My Blog (opens in new tab)"
                >
                  Read My Blog
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Skills Section -->
      <section id="skills" class="skills" aria-labelledby="skills-heading">
        <div class="container">
          <h2 id="skills-heading">My Skills</h2>
          <div class="skills-grid">
            <div class="skill-category">
              <h3 id="web-dev-heading">Web Development</h3>
              <div class="skill-icons" aria-labelledby="web-dev-heading">
                <div class="skill-icon">
                  <i
                    data-lucide="code"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>HTML</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="code"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>CSS</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="code"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>JavaScript</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="database"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>Node.js</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="file"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>PHP</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="globe"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>WordPress</span>
                </div>
              </div>
            </div>

            <div class="skill-category">
              <h3 id="prog-lang-heading">Programming Languages</h3>
              <div class="skill-icons" aria-labelledby="prog-lang-heading">
                <div class="skill-icon">
                  <i
                    data-lucide="file-code"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>Java</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="file-code"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>Python</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="file-code"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>JavaScript</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="file-code"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>PHP</span>
                </div>
              </div>
            </div>

            <div class="skill-category">
              <h3 id="db-cloud-heading">Databases & Cloud</h3>
              <div class="skill-icons" aria-labelledby="db-cloud-heading">
                <div class="skill-icon">
                  <i
                    data-lucide="database"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>MongoDB</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="database"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>MySQL</span>
                </div>
                <div class="skill-icon">
                  <i
                    data-lucide="cloud"
                    class="purple-icon"
                    aria-hidden="true"
                  ></i>
                  <span>AWS</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Projects Section -->
      <section
        id="projects"
        class="projects"
        aria-labelledby="projects-heading"
      >
        <div class="container">
          <h2 id="projects-heading">Featured Projects</h2>
          <div class="projects-grid">
            <article class="project-card" aria-labelledby="project-1-heading">
              <img
                src="img/querit.png"
                alt="Screenshot of Querit platform interface"
                loading="lazy"
                decoding="async"
              />
              <div class="project-content">
                <h3 id="project-1-heading">
                  Querit - Ask Questions, Get Answers.
                </h3>
                <p>
                  A platform for students to ask questions and get answers,
                  facilitating academic collaboration, career guidance, and
                  professional networking with industry connections.
                </p>
                <div class="project-tags" aria-label="Technologies used">
                  <span>HTML</span>
                  <span>CSS</span>
                  <span>JavaScript</span>
                  <span>Node.js</span>
                  <span>MongoDB</span>
                </div>
                <div class="project-links">
                  <a
                    href="https://github.com/destyn8/querit"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="Querit GitHub repository (opens in new tab)"
                  >
                    <i data-lucide="github" aria-hidden="true"></i>
                    GitHub
                  </a>

                  <a
                    href="https://querit.vercel.app/"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="View live Querit project (opens in new tab)"
                  >
                    <i data-lucide="external-link" aria-hidden="true"></i>
                    Live
                  </a>
                </div>
              </div>
            </article>

            <article class="project-card" aria-labelledby="project-2-heading">
              <img
                src="img/portfolio.png"
                alt="Screenshot of personal portfolio website"
                loading="lazy"
                decoding="async"
              />
              <div class="project-content">
                <h3 id="project-2-heading">Personal Portfolio.</h3>
                <p>
                  A static portfolio website showcasing my work and projects,
                  hosted on GitHub Pages. Features a clean design and easy
                  navigation to my profiles and projects.
                </p>
                <div class="project-tags" aria-label="Technologies used">
                  <span>HTML</span>
                  <span>CSS</span>
                  <span>JavaScript</span>
                </div>
                <div class="project-links">
                  <a
                    href="https://github.com/zs0c131y/resume"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="Portfolio GitHub repository (opens in new tab)"
                  >
                    <i data-lucide="github" aria-hidden="true"></i>
                    GitHub
                  </a>
                  <span
                    class="current-site-indicator"
                    aria-label="Current website"
                  >
                    <i data-lucide="info" aria-hidden="true"></i>
                    You are here!
                  </span>
                </div>
              </div>
            </article>

            <article class="project-card" aria-labelledby="project-3-heading">
              <img
                src="img/hive.png"
                alt="Screenshot of Hive social app interface"
                loading="lazy"
                decoding="async"
              />
              <div class="project-content">
                <h3 id="project-3-heading">Hive - Social App for Students.</h3>
                <p>
                  A React/Vite-based social platform enabling university
                  students to connect, share resources, and seek assistance.
                  Features modern UI components and secure authentication.
                </p>
                <div class="project-tags" aria-label="Technologies used">
                  <span>React</span>
                  <span>Vite</span>
                  <span>Node.js</span>
                  <span>Express</span>
                  <span>Firebase</span>
                </div>
                <div class="project-links">
                  <a
                    href="https://github.com/zs0c131y/hive"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="Hive GitHub repository (opens in new tab)"
                  >
                    <i data-lucide="github" aria-hidden="true"></i>
                    GitHub
                  </a>

                  <a
                    href="https://hive-wiir.onrender.com"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="View live Hive project (opens in new tab)"
                  >
                    <i data-lucide="external-link" aria-hidden="true"></i>
                    Live
                  </a>
                </div>
              </div>
            </article>

            <article
              class="project-card blossoms-card"
              aria-labelledby="project-4-heading"
            >
              <img
                src="img/blossoms.png"
                alt="Blossoms 2024-25 event poster"
                loading="lazy"
                decoding="async"
              />
              <div class="project-content">
                <h3 id="project-4-heading">
                  Blossoms 2024-25 - The Flagship Christ University Fest.
                </h3>
                <p>
                  An annual cultural fest organised by the Student Welfare
                  Office, Blossoms seeks to host activities and competitions at
                  the inter deanery level. Much like Darpan in its search for
                  talent and skills among the students and participants,
                  Blossoms provides an opportunity on a bigger scale.
                </p>
                <div class="project-tags" aria-label="Technologies used">
                  <span>HTML</span>
                  <span>CSS</span>
                  <span>JavaScript</span>
                </div>
                <div class="project-links">
                  <a
                    href="https://github.com/zs0c131y/blossoms"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="Blossoms GitHub repository (opens in new tab)"
                  >
                    <i data-lucide="github" aria-hidden="true"></i>
                    GitHub
                  </a>

                  <a
                    href="https://blossomsbyc.netlify.app"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="View live Blossoms project (opens in new tab)"
                  >
                    <i data-lucide="external-link" aria-hidden="true"></i>
                    Live
                  </a>
                </div>
              </div>
            </article>

            <article class="project-card" aria-labelledby="project-5-heading">
              <img
                src="img/trustvault.png"
                alt="Screenshot of TrustVault application interface"
                loading="lazy"
                decoding="async"
              />
              <div class="project-content">
                <h3 id="project-5-heading">
                  TrustVault - Blockchain based Land Registry and Document
                  Verification.
                </h3>
                <p>
                  A decentralized platform for secure document and land registry
                  verification using Ethereum smart contracts and IPFS. Features
                  document hashing and multi-signature approvals.
                </p>
                <div class="project-tags" aria-label="Technologies used">
                  <span>Ethereum</span>
                  <span>IPFS</span>
                  <span>MongoDB</span>
                  <span>Express.js</span>
                  <span>Node.js</span>
                </div>
                <div class="project-links">
                  <a
                    href="https://github.com/zs0c131y/trustvault"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="TrustVault GitHub repository (opens in new tab)"
                  >
                    <i data-lucide="github" aria-hidden="true"></i>
                    GitHub
                  </a>

                  <a
                    href="https://trustvault.hopto.org"
                    class="project-link"
                    target="_blank"
                    rel="noopener"
                    aria-label="View live TrustVault project (opens in new tab)"
                  >
                    <i data-lucide="external-link" aria-hidden="true"></i>
                    Live
                  </a>
                </div>
              </div>
            </article>
          </div>
        </div>
      </section>

      <!-- Contact Section -->
      <section id="contact" class="contact" aria-labelledby="contact-heading">
        <div class="container">
          <h2 id="contact-heading">Get In Touch</h2>
          <div class="contact-grid">
            <div class="contact-info">
              <p>
                I'm currently available for freelance projects, internships, and
                collaboration opportunities. If you have a project that needs
                technical expertise or want to discuss potential collaborations,
                feel free to reach out!
              </p>
              <div class="contact-links">
                <a
                  href="mailto:hello@adarshg.dev"
                  class="contact-link"
                  aria-label="Email: hello@adarshg.dev"
                >
                  <i data-lucide="mail" aria-hidden="true"></i>
                  <span>hello@adarshg.dev</span>
                </a>

                <a
                  href="https://github.com/zs0c131y"
                  target="_blank"
                  rel="noopener"
                  class="contact-link"
                  aria-label="GitHub profile: github.com/zs0c131y (opens in new tab)"
                >
                  <i data-lucide="github" aria-hidden="true"></i>
                  <span>github.com/zs0c131y</span>
                </a>

                <a
                  href="https://linkedin.com/in/adarshagupta"
                  target="_blank"
                  rel="noopener"
                  class="contact-link"
                  aria-label="LinkedIn profile: linkedin.com/in/adarshagupta (opens in new tab)"
                >
                  <i data-lucide="linkedin" aria-hidden="true"></i>
                  <span>linkedin.com/in/adarshagupta</span>
                </a>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer role="contentinfo" class="footer">
      <div class="container">
        <p>
          &copy; <span id="current-year">2024</span> Adarsh Gupta. All rights
          reserved.
        </p>
      </div>
    </footer>

    <div class="menu-overlay"></div>

    <script>
      // Register Service Worker for offline capabilities
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/service-worker.js")
            .then((registration) => {
              console.log(
                "Service Worker registered with scope:",
                registration.scope
              );
            })
            .catch((error) => {
              console.error("Service Worker registration failed:", error);
            });
        });
      }

      // Initialize Lucide icons
      document.addEventListener("DOMContentLoaded", function () {
        // Check if Lucide is loaded, if not, retry after a delay
        if (typeof lucide !== "undefined") {
          lucide.createIcons();
        } else {
          setTimeout(function () {
            if (typeof lucide !== "undefined") {
              lucide.createIcons();
            }
          }, 1000);
        }
      });

      // Set current year for footer copyright
      document.getElementById("current-year").textContent =
        new Date().getFullYear();

      // Function to log a stylish message to the console - Easter Egg
      function addConsoleEasterEgg() {
        // Title styles
        const titleStyles = [
          "font-size: 24px",
          "font-family: 'Inter', system-ui, sans-serif",
          "background: linear-gradient(45deg, #FF6B6B, #4ECDC4)",
          "color: white",
          "padding: 15px 25px",
          "border-radius: 12px",
          "font-weight: 600",
          "text-shadow: 2px 2px 4px rgba(0,0,0,0.2)",
          "margin: 5px 0",
        ].join(";");

        // Heading styles for sections
        const headingStyles = [
          "font-size: 16px",
          "font-family: 'Inter', system-ui, sans-serif",
          "color: #4ECDC4",
          "font-weight: 600",
          "margin: 10px 0",
          "text-transform: uppercase",
          "letter-spacing: 0.5px",
        ].join(";");

        // Text styles for regular content
        const textStyles = [
          "font-size: 14px",
          "font-family: 'Inter', system-ui, sans-serif",
          "color: #E0E0E0",
          "line-height: 1.5",
          "padding: 4px 0",
        ].join(";");

        // Easter egg styles
        const easterEggStyles = [
          "font-size: 14px",
          "font-family: 'Inter', system-ui, sans-serif",
          "color: #FFFFFF",
          "background: linear-gradient(45deg, rgba(78, 205, 196, 0.1), rgba(255, 107, 107, 0.1))",
          "padding: 12px 16px",
          "border-radius: 8px",
          "border: 1px solid rgba(78, 205, 196, 0.3)",
          "margin: 8px 0",
          "text-shadow: 0 1px 1px rgba(0,0,0,0.1)",
        ].join(";");

        // Contact styles
        const contactStyles = [
          "font-size: 15px",
          "font-family: 'Inter', system-ui, sans-serif",
          "background: linear-gradient(45deg, #4ECDC4, #FF6B6B)",
          "color: white",
          "padding: 12px 20px",
          "border-radius: 8px",
          "font-weight: 500",
          "margin: 10px 0",
          "text-shadow: 0 1px 2px rgba(0,0,0,0.2)",
          "border: 1px solid rgba(255,255,255,0.1)",
        ].join(";");

        // Separator style
        const separatorStyles = [
          "font-size: 14px",
          "color: #4ECDC4",
          "margin: 15px 0",
          "opacity: 0.5",
        ].join(";");

        // Console output with new styling
        console.log("%c👋 Hello, fellow developer!", titleStyles);

        console.log("%c%s", separatorStyles, "━".repeat(50));

        console.log("%cWelcome to My Portfolio", headingStyles);
        console.log(
          "%cThanks for checking out my work! I'm passionate about creating beautiful and functional web experiences.",
          textStyles
        );

        console.log("%c%s", separatorStyles, "━".repeat(50));

        console.log("%c🎮 Easter Eggs", headingStyles);
        console.log("%c↑↑↓↓←→←→BA - Try the Konami Code", easterEggStyles);
        console.log(
          "%c🖱️ Click the {AG} logo 5 times rapidly",
          easterEggStyles
        );
        console.log("%c💻 Type matrix() in the console", easterEggStyles);

        console.log("%c%s", separatorStyles, "━".repeat(50));

        console.log("%c📬 Let's Connect!", headingStyles);
        console.log(
          "%c💼 Looking to hire? Contact me at gupthadarsh@gmail.com",
          contactStyles
        );
      }

      // Add this to your existing script at the end of the body
      document.addEventListener("DOMContentLoaded", () => {
        // Make sure body is fully visible at startup
        document.body.style.opacity = "1";

        const themeToggle = document.getElementById("theme-toggle");

        // Check for saved theme preference or use the default dark theme
        const savedTheme = localStorage.getItem("theme");
        if (savedTheme === "light") {
          document.body.classList.remove("dark");
          themeToggle.setAttribute("aria-pressed", "false");
        }

        // Handle theme toggle click
        themeToggle.addEventListener("click", () => {
          // Toggle the dark class on the body
          document.body.classList.toggle("dark");

          // Update aria-pressed state
          const isDarkMode = document.body.classList.contains("dark");
          themeToggle.setAttribute("aria-pressed", isDarkMode.toString());

          // Save the preference in localStorage
          const currentTheme = isDarkMode ? "dark" : "light";
          localStorage.setItem("theme", currentTheme);
        });

        // Mobile Menu Toggle
        function setupMobileMenu() {
          const mobileMenuToggle =
            document.getElementById("mobile-menu-toggle");
          const mainNav = document.querySelector(".main-nav");
          const overlay = document.querySelector(".menu-overlay");

          if (!mobileMenuToggle || !mainNav || !overlay) return;

          function toggleMenu() {
            mobileMenuToggle.classList.toggle("open");
            mainNav.classList.toggle("open");
            overlay.classList.toggle("open");

            // Update aria attributes
            const isExpanded = mobileMenuToggle.classList.contains("open");
            mobileMenuToggle.setAttribute("aria-expanded", isExpanded);

            // Prevent body scrolling when menu is open
            document.body.style.overflow = isExpanded ? "hidden" : "";
          }

          // Toggle menu button event
          mobileMenuToggle.addEventListener("click", toggleMenu);
          overlay.addEventListener("click", toggleMenu);

          // Handle nav links
          const navLinks = mainNav.querySelectorAll("a");

          navLinks.forEach((link) => {
            link.addEventListener("click", function (e) {
              const href = this.getAttribute("href");

              // For internal links starting with #
              if (href.startsWith("#")) {
                e.preventDefault();

                // Close the menu first
                toggleMenu();

                // Wait for the menu animation to complete before navigating
                setTimeout(() => {
                  const targetElement = document.querySelector(href);

                  if (targetElement) {
                    const headerHeight =
                      document.querySelector(".sticky-header").offsetHeight;
                    const targetPosition =
                      targetElement.getBoundingClientRect().top +
                      window.scrollY -
                      headerHeight;

                    window.scrollTo({
                      top: targetPosition,
                      behavior: "smooth",
                    });

                    // After scrolling is complete, manually set active class
                    setTimeout(() => {
                      // Remove active class from all nav links
                      document
                        .querySelectorAll(".main-nav a")
                        .forEach((navLink) => {
                          navLink.classList.remove("active");
                        });

                      // Add active class to the clicked link
                      this.classList.add("active");

                      // Also trigger the updateActiveNavLink function to ensure consistency
                      updateActiveNavLink();
                    }, 500); // Adjust this timing based on your scroll animation duration

                    history.pushState(null, null, href);
                  }
                }, 300); // Adjust delay to match your menu animation duration
              } else {
                // External links: Close menu then navigate
                toggleMenu();
                setTimeout(() => {
                  window.location.href = href;
                }, 300); // Allow menu closing animation to complete
              }
            });
          });

          // Close menu on ESC key press
          document.addEventListener("keydown", (e) => {
            if (e.key === "Escape" && mainNav.classList.contains("open")) {
              toggleMenu();
            }
          });
        }

        // Track clicks on the logo - Easter Egg
        let logoClickCount = 0;
        let logoClickTimer;

        // Get the logo element
        const logo = document.querySelector(".logo");

        // Add click event listener to the logo
        logo.addEventListener("click", function (e) {
          // Prevent default navigation if this is an anchor element
          e.preventDefault();

          // Increment the click counter
          logoClickCount++;

          // Clear the previous timer
          clearTimeout(logoClickTimer);

          // Set a new timer to reset the counter after 2 seconds
          logoClickTimer = setTimeout(() => {
            // If there were 5 or more clicks, activate the easter egg
            if (logoClickCount >= 5) {
              activateLogoEasterEgg();
            }
            // Reset the counter
            logoClickCount = 0;
          }, 2000);
        });

        function activateLogoEasterEgg() {
          // Get the logo element
          const logo = document.querySelector(".logo");

          // Store the original text
          const originalText = logo.textContent;

          // Array of fun texts to cycle through
          const funTexts = [
            "🚀 {AG}",
            "✨ {AG}",
            "{🔥G}",
            "{A🔥}",
            "{💻G}",
            "{A🎮}",
            "{⚡G}",
          ];

          // Counter for the animation
          let animationCounter = 0;

          // Start the animation
          const animationInterval = setInterval(() => {
            // Update the logo text
            logo.textContent = funTexts[animationCounter % funTexts.length];

            // Increment the counter
            animationCounter++;

            // Stop the animation after cycling through all options
            if (animationCounter >= funTexts.length) {
              clearInterval(animationInterval);

              // Reset to the original text after 2 seconds
              setTimeout(() => {
                logo.textContent = originalText;
              }, 2000);
            }
          }, 200);
        }

        // Konami Code sequence - Easter Egg
        const konamiCode = [
          "ArrowUp",
          "ArrowUp",
          "ArrowDown",
          "ArrowDown",
          "ArrowLeft",
          "ArrowRight",
          "ArrowLeft",
          "ArrowRight",
          "b",
          "a",
        ];

        // Track the sequence entered
        let konamiCodePosition = 0;

        // Add event listener to document for keyboard inputs
        document.addEventListener("keydown", function (e) {
          // Get the key that was pressed
          const key = e.key;

          // Check if the key matches the expected key in the sequence
          const requiredKey = konamiCode[konamiCodePosition];

          if (key === requiredKey) {
            // If correct, move to the next position in the sequence
            konamiCodePosition++;

            // If the entire sequence is entered correctly
            if (konamiCodePosition === konamiCode.length) {
              // Reset the sequence tracker
              konamiCodePosition = 0;
              // Activate the easter egg
              activateKonamiEasterEgg();
            }
          } else {
            // If incorrect, reset the sequence tracker
            konamiCodePosition = 0;
          }
        });

        function activateKonamiEasterEgg() {
          // Create a container for the animation
          const eggContainer = document.createElement("div");
          eggContainer.style.position = "fixed";
          eggContainer.style.top = "0";
          eggContainer.style.left = "0";
          eggContainer.style.width = "100%";
          eggContainer.style.height = "100%";
          eggContainer.style.zIndex = "9999";
          eggContainer.style.pointerEvents = "none";
          eggContainer.style.overflow = "hidden";
          eggContainer.setAttribute(
            "aria-label",
            "Konami Code Easter Egg Animation"
          );
          eggContainer.setAttribute("role", "presentation");

          // Add 30 small colored divs that will float around
          for (let i = 0; i < 30; i++) {
            const element = document.createElement("div");
            element.className = "konami-element";

            // Random positions, colors, and sizes
            const size = Math.floor(Math.random() * 40) + 20;
            element.style.position = "absolute";
            element.style.width = `${size}px`;
            element.style.height = `${size}px`;
            element.style.left = `${Math.random() * 100}%`;
            element.style.top = `${Math.random() * 100}%`;
            element.style.borderRadius = "50%";
            element.style.backgroundColor = `hsl(${
              Math.random() * 360
            }, 80%, 60%)`;
            element.style.opacity = "0.8";
            element.style.boxShadow = "0 0 10px rgba(255,255,255,0.5)";
            element.style.transition = "transform 1s ease-out";

            // Add animation
            setTimeout(() => {
              element.style.transform = `translate(${
                (Math.random() - 0.5) * 500
              }px, ${(Math.random() - 0.5) * 500}px) rotate(${
                Math.random() * 360
              }deg)`;
            }, 10);

            eggContainer.appendChild(element);
          }

          // Add a welcome message
          const message = document.createElement("div");
          message.textContent = "Konami Code Activated! 🎮";
          message.style.position = "absolute";
          message.style.top = "50%";
          message.style.left = "50%";
          message.style.transform = "translate(-50%, -50%)";
          message.style.fontSize = "2rem";
          message.style.color = "white";
          message.style.fontWeight = "bold";
          message.style.textShadow = "0 0 10px rgba(0,0,0,0.7)";
          message.style.padding = "1rem";
          message.style.backgroundColor = "rgba(0, 0, 0, 0.7)";
          message.style.borderRadius = "10px";
          message.style.zIndex = "10000";

          eggContainer.appendChild(message);
          document.body.appendChild(eggContainer);

          // Announce to screen readers
          const announcement = document.createElement("div");
          announcement.setAttribute("role", "status");
          announcement.setAttribute("aria-live", "polite");
          announcement.className = "sr-only";
          announcement.textContent =
            "Konami code activated! Visual animation playing.";
          document.body.appendChild(announcement);

          // Remove the animation after 4 seconds
          setTimeout(() => {
            document.body.removeChild(eggContainer);
            document.body.removeChild(announcement);
          }, 4000);
        }

        // Define the matrix function in the global scope
        window.matrix = function () {
          console.log(
            "%cInitiating the Matrix...",
            "color: #00FF00; font-family: monospace; font-size: 16px;"
          );

          // Announce to screen readers
          const announcement = document.createElement("div");
          announcement.setAttribute("role", "status");
          announcement.setAttribute("aria-live", "polite");
          announcement.className = "sr-only";
          announcement.textContent =
            "Matrix animation activated! Press the Exit Matrix button at the bottom right to stop.";
          document.body.appendChild(announcement);

          // Create the matrix effect
          const canvas = document.createElement("canvas");
          const context = canvas.getContext("2d");
          canvas.style.position = "fixed";
          canvas.style.top = "0";
          canvas.style.left = "0";
          canvas.style.width = "100%";
          canvas.style.height = "100%";
          canvas.style.zIndex = "9999";
          canvas.width = window.innerWidth;
          canvas.height = window.innerHeight;
          canvas.setAttribute("aria-hidden", "true");
          document.body.appendChild(canvas);

          let chars = "ADARSHGUPTAJAVASCRIPTPYTHONHTMLCSSKUNG0123456789";
          chars = chars.split("");

          const fontSize = 14;
          const columns = canvas.width / fontSize;

          // Create an array of drops representing where each column starts at
          const drops = [];
          for (let i = 0; i < columns; i++) {
            drops[i] = 1;
          }

          function draw() {
            // Set a translucent background to create the fade effect
            context.fillStyle = "rgba(0, 0, 0, 0.05)";
            context.fillRect(0, 0, canvas.width, canvas.height);

            // Set the color and font of the characters
            context.fillStyle = "#0F0";
            context.font = fontSize + "px monospace";

            // Draw the characters
            for (let i = 0; i < drops.length; i++) {
              // Get a random character
              const text = chars[Math.floor(Math.random() * chars.length)];

              // Draw the character
              context.fillText(text, i * fontSize, drops[i] * fontSize);

              // Reset the drop if it's reached the bottom of the screen or randomly
              if (
                drops[i] * fontSize > canvas.height &&
                Math.random() > 0.975
              ) {
                drops[i] = 0;
              }

              // Move the drop down
              drops[i]++;
            }
          }

          // Run the animation at 35 FPS
          const matrixInterval = setInterval(draw, 35);

          // Create a close button with enhanced accessibility
          const closeButton = document.createElement("button");
          closeButton.textContent = "Exit Matrix";
          closeButton.style.position = "fixed";
          closeButton.style.bottom = "20px";
          closeButton.style.right = "20px";
          closeButton.style.zIndex = "10000";
          closeButton.style.padding = "10px 20px";
          closeButton.style.backgroundColor = "#111";
          closeButton.style.color = "#0F0";
          closeButton.style.border = "1px solid #0F0";
          closeButton.style.borderRadius = "5px";
          closeButton.style.fontFamily = "monospace";
          closeButton.style.cursor = "pointer";
          closeButton.setAttribute("aria-label", "Stop Matrix animation");
          document.body.appendChild(closeButton);

          // Focus the close button for keyboard accessibility
          setTimeout(() => {
            closeButton.focus();
          }, 100);

          // Add event listener to close button
          closeButton.addEventListener("click", () => {
            clearInterval(matrixInterval);
            document.body.removeChild(canvas);
            document.body.removeChild(closeButton);
            document.body.removeChild(announcement);

            // Announce end to screen readers
            const endAnnouncement = document.createElement("div");
            endAnnouncement.setAttribute("role", "status");
            endAnnouncement.setAttribute("aria-live", "polite");
            endAnnouncement.className = "sr-only";
            endAnnouncement.textContent = "Matrix animation stopped.";
            document.body.appendChild(endAnnouncement);

            setTimeout(() => {
              document.body.removeChild(endAnnouncement);
            }, 1000);
          });
        };

        // Add active class to navigation links based on scroll position
        function updateActiveNavLink() {
          const sections = document.querySelectorAll("section[id]");
          const scrollPosition = window.scrollY + 100; // Offset for header

          // Initialize a variable to track if any section is active
          let anyActive = false;

          sections.forEach((section) => {
            const sectionTop = section.offsetTop;
            const sectionHeight = section.offsetHeight;
            const sectionId = section.getAttribute("id");
            const navLink = document.querySelector(
              `.main-nav a[href="#${sectionId}"]`
            );

            // Check if the scroll position is within this section
            if (
              navLink &&
              scrollPosition >= sectionTop &&
              scrollPosition < sectionTop + sectionHeight
            ) {
              // Remove active class from all navigation links
              document.querySelectorAll(".main-nav a").forEach((link) => {
                link.classList.remove("active");
              });

              // Add active class to the current section's navigation link
              navLink.classList.add("active");
              anyActive = true;
            }
          });

          // If we're at the very bottom of the page, activate the last section
          if (
            !anyActive &&
            window.innerHeight + window.scrollY >=
              document.body.offsetHeight - 10
          ) {
            const lastSection = sections[sections.length - 1];
            if (lastSection) {
              const lastSectionId = lastSection.getAttribute("id");
              const lastNavLink = document.querySelector(
                `.main-nav a[href="#${lastSectionId}"]`
              );

              if (lastNavLink) {
                document.querySelectorAll(".main-nav a").forEach((link) => {
                  link.classList.remove("active");
                });
                lastNavLink.classList.add("active");
              }
            }
          }

          // Special case for when we're at the top of the page (home/hero section)
          if (scrollPosition < 150 && document.querySelector(".hero")) {
            // If there's a home or first navigation item, activate it
            const firstNavLink = document.querySelector(
              ".main-nav a:first-child"
            );
            if (firstNavLink) {
              document.querySelectorAll(".main-nav a").forEach((link) => {
                link.classList.remove("active");
              });
              firstNavLink.classList.add("active");
            }
          }
        }

        // Set up smooth scrolling
        function setupSmoothScrolling() {
          const navLinks = document.querySelectorAll('.main-nav a[href^="#"]');

          navLinks.forEach((link) => {
            link.addEventListener("click", function (e) {
              // Only process internal links
              if (this.getAttribute("href").startsWith("#")) {
                e.preventDefault();

                const targetId = this.getAttribute("href");
                if (targetId === "#") return;

                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                  // Get header height for offset
                  const headerHeight =
                    document.querySelector(".sticky-header").offsetHeight;

                  // Calculate position with offset
                  const targetPosition =
                    targetElement.getBoundingClientRect().top +
                    window.pageYOffset -
                    headerHeight;

                  // Smooth scroll
                  window.scrollTo({
                    top: targetPosition,
                    behavior: "smooth",
                  });

                  // Close mobile menu if open
                  const mobileMenu = document.querySelector(".main-nav.open");
                  const mobileToggle = document.querySelector(
                    ".mobile-menu-toggle.open"
                  );
                  const overlay = document.querySelector(".menu-overlay.open");
                  if (mobileMenu && mobileToggle && overlay) {
                    mobileMenu.classList.remove("open");
                    mobileToggle.classList.remove("open");
                    overlay.classList.remove("open");
                    document.body.style.overflow = "";
                  }
                }
              }
            });
          });
        }

        // Progressive image loading with skeletons
        function setupProgressiveImageLoading() {
          const images = document.querySelectorAll('img[loading="lazy"]');

          // Create placeholder for each image
          images.forEach((img) => {
            const parent = img.parentElement;

            // Skip if parent not found or already has a skeleton
            if (!parent || parent.querySelector(".skeleton")) return;

            // Create skeleton placeholder
            const placeholder = document.createElement("div");
            placeholder.className = "skeleton";
            placeholder.style.width = "100%";
            placeholder.style.height = "100%";
            placeholder.style.position = "absolute";
            placeholder.style.top = "0";
            placeholder.style.left = "0";

            // Ensure parent has position relative
            if (getComputedStyle(parent).position === "static") {
              parent.style.position = "relative";
            }

            // Add placeholder before image
            parent.insertBefore(placeholder, img);

            // Show image when loaded and remove placeholder
            img.classList.add("image-loading");

            // Handle already loaded or cached images
            if (img.complete) {
              img.classList.remove("image-loading");
              img.classList.add("image-loaded");
              if (placeholder && placeholder.parentElement) {
                placeholder.parentElement.removeChild(placeholder);
              }
            } else {
              // Handle images that need to load
              img.addEventListener("load", () => {
                img.classList.remove("image-loading");
                img.classList.add("image-loaded");
                if (placeholder && placeholder.parentElement) {
                  placeholder.parentElement.removeChild(placeholder);
                }
              });
            }
          });
        }

        // Animate elements when they come into view
        function setupScrollAnimations() {
          if ("IntersectionObserver" in window) {
            const animateOnScroll = new IntersectionObserver(
              (entries) => {
                entries.forEach((entry) => {
                  if (entry.isIntersecting) {
                    setTimeout(() => {
                      entry.target.classList.add("loaded");
                    }, 100);
                    animateOnScroll.unobserve(entry.target);
                  }
                });
              },
              { threshold: 0.1 }
            );

            // Observe elements
            document
              .querySelectorAll(".skill-icon, .project-card, .badge")
              .forEach((el) => {
                if (!el.classList.contains("loaded")) {
                  animateOnScroll.observe(el);
                }
              });
          } else {
            // Fallback for browsers that don't support IntersectionObserver
            document
              .querySelectorAll(".skill-icon, .project-card, .badge")
              .forEach((el) => {
                el.classList.add("loaded");
              });
          }
        }

        function setupPageLoadingBar() {
          // Get existing loading bar or create one if it doesn't exist
          let loadingBar = document.querySelector(".page-loading");
          if (!loadingBar) {
            loadingBar = document.createElement("div");
            loadingBar.className = "page-loading";
            document.body.prepend(loadingBar); // Add to the beginning of the body
          }

          // Remove the loading bar when the window is fully loaded
          window.addEventListener("load", () => {
            // Keep the bar visible for a moment so users can see the completion
            setTimeout(() => {
              // Fade out the loading bar
              loadingBar.style.opacity = "0";

              // Then remove it completely after the fade out
              setTimeout(() => {
                if (loadingBar.parentNode) {
                  loadingBar.parentNode.removeChild(loadingBar);
                }
              }, 300); // Slightly longer than the CSS transition duration
            }, 500); // Short delay to show completion
          });
        }

        // Initialize Turnstile for site protection
        function initTurnstile() {
          // Check if user has already been verified in this session
          if (sessionStorage.getItem("turnstile_verified") === "true") {
            return; // Skip verification if already done
          }

          // Create an overlay to block interaction until verification completes
          const overlay = document.createElement("div");
          overlay.id = "turnstile-overlay";
          overlay.style.position = "fixed";
          overlay.style.top = "0";
          overlay.style.left = "0";
          overlay.style.width = "100%";
          overlay.style.height = "100%";
          overlay.style.backgroundColor = "rgba(0, 0, 0, 0.85)";
          overlay.style.zIndex = "9998";
          overlay.style.display = "flex";
          overlay.style.justifyContent = "center";
          overlay.style.alignItems = "center";
          overlay.style.backdropFilter = "blur(5px)";

          // Create modal container with better design
          const modal = document.createElement("div");
          modal.style.backgroundColor = "#121212";
          modal.style.color = "#ffffff";
          modal.style.borderRadius = "12px";
          modal.style.boxShadow = "0 25px 50px -12px rgba(0, 0, 0, 0.5)";
          modal.style.overflow = "hidden";
          modal.style.width = "400px";
          modal.style.maxWidth = "92%";
          modal.style.border = "1px solid rgba(255, 255, 255, 0.1)";

          // Modal header
          const header = document.createElement("div");
          header.style.padding = "20px 24px";
          header.style.borderBottom = "1px solid rgba(255, 255, 255, 0.1)";
          header.style.backgroundColor = "rgba(255, 255, 255, 0.03)";

          // Add logo similar to your site's {AG} logo
          const logo = document.createElement("div");
          logo.style.marginBottom = "12px";
          logo.style.fontFamily = "Inter, system-ui, sans-serif";
          logo.style.fontWeight = "600";
          logo.style.fontSize = "18px";
          logo.style.color = "#FF6B6B";
          logo.textContent = "{AG}";

          // Add title with matching typography
          const title = document.createElement("h3");
          title.style.margin = "0";
          title.style.fontFamily = "Inter, system-ui, sans-serif";
          title.style.fontWeight = "600";
          title.style.fontSize = "22px";
          title.style.lineHeight = "1.2";
          title.textContent = "Human Verification";

          header.appendChild(logo);
          header.appendChild(title);

          // Modal body
          const body = document.createElement("div");
          body.style.padding = "20px 24px";

          // Message with improved typography
          const message = document.createElement("p");
          message.style.margin = "0 0 20px 0";
          message.style.fontFamily = "Inter, system-ui, sans-serif";
          message.style.fontSize = "15px";
          message.style.lineHeight = "1.5";
          message.style.color = "rgba(255, 255, 255, 0.8)";
          message.textContent =
            "Hello human! Thank you for your patience while I load the site for you.";

          // Create a new container for the Turnstile widget INSIDE the modal
          const widgetContainer = document.createElement("div");
          widgetContainer.id = "cf-turnstile-container";
          widgetContainer.style.display = "flex";
          widgetContainer.style.justifyContent = "center";
          widgetContainer.style.marginTop = "16px";

          body.appendChild(message);
          body.appendChild(widgetContainer);

          // Assemble the modal
          modal.appendChild(header);
          modal.appendChild(body);
          overlay.appendChild(modal);

          // Add to document
          document.body.appendChild(overlay);

          // Function to handle successful verification
          function turnstileCallback(token) {
            // Store verification in session storage
            sessionStorage.setItem("turnstile_verified", "true");

            // Fade out the overlay
            overlay.style.transition = "opacity 0.3s ease";
            overlay.style.opacity = "0";

            // Remove after transition
            setTimeout(() => {
              if (overlay.parentNode) {
                document.body.removeChild(overlay);
              }
            }, 300);
          }

          // Function to handle expired tokens
          function turnstileExpiredCallback() {
            // Reset the widget if the token expires
            turnstile.reset("#cf-turnstile-container");
          }

          // Render the Turnstile widget inside our new container
          turnstile.render("#cf-turnstile-container", {
            sitekey: "0x4AAAAAABDpt1p9mIKES9G4",
            callback: turnstileCallback,
            "expired-callback": turnstileExpiredCallback,
            theme: "dark",
          });
        }

        // Initialize Turnstile on page load
        if (typeof turnstile !== "undefined") {
          initTurnstile();
        } else {
          // If Turnstile is not loaded, retry after a delay
          setTimeout(() => {
            if (typeof turnstile !== "undefined") {
              initTurnstile();
            }
          }, 1000);
        }

        // Add a class to detect JS capability and initialize focus management
        document.documentElement.classList.add("js-focus-visible");

        // Track whether the user is using keyboard navigation
        let usingKeyboard = false;

        // Set usingKeyboard to true when Tab key is pressed
        document.addEventListener("keydown", function (e) {
          if (e.key === "Tab") {
            usingKeyboard = true;
            document.documentElement.classList.add("user-is-tabbing");
          }
        });

        // Reset to mouse mode on mouse interaction
        document.addEventListener("mousedown", function () {
          usingKeyboard = false;
          document.documentElement.classList.remove("user-is-tabbing");

          // Remove focus from any currently focused element when clicking elsewhere
          // This helps avoid elements staying focused after clicking
          document.querySelectorAll(":focus").forEach((element) => {
            if (
              document.activeElement !== element &&
              element !== document.body
            ) {
              element.blur();
            }
          });
        });

        // Add focus-visible class to elements when they receive focus via keyboard
        document.addEventListener("focusin", function (e) {
          if (usingKeyboard) {
            e.target.classList.add("focus-visible");
          } else {
            // For mouse focus, ensure we don't get stuck outlines
            e.target.classList.remove("focus-visible");
          }
        });

        // Remove focus-visible class when focus is lost
        document.addEventListener("focusout", function (e) {
          e.target.classList.remove("focus-visible");
        });

        // Special handling for navigation links
        const navLinks = document.querySelectorAll(".main-nav a");
        navLinks.forEach((link) => {
          // When clicking a nav link, prevent the focus outline
          link.addEventListener("mousedown", function (e) {
            // Add a one-time focus handler to remove focus after click
            this.addEventListener("focus", function onFocus() {
              // Only blur if not using keyboard
              if (!usingKeyboard) {
                setTimeout(() => this.blur(), 100);
              }
              // Remove this one-time handler
              this.removeEventListener("focus", onFocus);
            });
          });
        });

        // Call all setup functions
        addConsoleEasterEgg();
        setupMobileMenu();
        setupProgressiveImageLoading();
        setupSmoothScrolling();
        setupScrollAnimations();
        setupPageLoadingBar();

        // Add scroll event listener
        window.addEventListener("scroll", updateActiveNavLink);

        // Initial call to set active link
        updateActiveNavLink();

        // Set active link based on the current URL hash
        function setInitialActiveLink() {
          // Get the current hash from the URL or default to the first section
          const currentHash = window.location.hash || "#about";

          // Find the matching navigation link
          const activeNavLink = document.querySelector(
            `.main-nav a[href="${currentHash}"]`
          );

          // If a matching link is found, set it as active
          if (activeNavLink) {
            document.querySelectorAll(".main-nav a").forEach((link) => {
              link.classList.remove("active");
            });
            activeNavLink.classList.add("active");
          } else {
            // If no matching link, set the first one as active
            const firstNavLink = document.querySelector(
              ".main-nav a:first-child"
            );
            if (firstNavLink) {
              firstNavLink.classList.add("active");
            }
          }
        }

        // Call on initialization to set the correct active link
        setInitialActiveLink();

        // Enhanced scroll event handling
        let isScrolling;
        window.addEventListener("scroll", function () {
          // Clear our timeout throughout the scroll
          window.clearTimeout(isScrolling);

          // Run the active link update immediately during scroll
          updateActiveNavLink();

          // Set a timeout to run after scrolling ends (for smoother performance)
          isScrolling = setTimeout(function () {
            // Run our scroll functions after scrolling completes
            updateActiveNavLink();
          }, 66); // 66ms = approximately 15fps
        });

        // Also update active link on window resize (in case section positions change)
        window.addEventListener("resize", function () {
          updateActiveNavLink();
        });
      });
    </script>
  </body>
</html>
